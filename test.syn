########### SYNTHS ###########

osc fm1op2fb
osc fm1op2   freq=.999*f phase=.35*fm1op2fb
lfo fm1fb    shape=saw freq=2 mode=global,beat
osc fm1op1   phase=fm1fb*fm1op2
osc fm1sub1  shape=sin freq=.5*f

osc  fm1sub2     freq=.501*f
env  quickattack attack=0.01 hold=1 decay=1 sustain=0
main FM1         src=quickattack*fm1op1+quickattack*0.4*fm1sub1+quickattack*0.4*fm1sub2 release=.1

osc  somesaw1  shape=saw
form somesawD1 detune src=somesaw1 amount=0.01,0.033,0.04
osc  somesaw2  shape=saw freq=.5*f phase=0.01
form somesawD2 op=detune src=somesaw2 amount=0.05,-0.03,-0.02
form somesaw   mix src=somesawD1+.6*somesawD2
env  stutter   shape=expdecayrepeat exponent=16. beats=.125
env  slowdec   shape=expdecay exponent=1.5
main Supersaw  src=stutter*slowdec*somesaw

osc  S01    shape=sin freq=f
gac  G01    offset=0 const=1. lin=2. quad=-.5 sin=3. sin_coeff=2. exp=2. exp_coeff=-.25 mode=global
form S01w   op=waveshape src=S01 amount=1. a=0.01 b=0.7 c=0.1 d=0.6 e=0.8
main WShape src=S01-.1*G01*S01+.1*G01*S01w

filter Fsaw      shape=resolp src=somesaw1 cutoff=200 res=.4
main   resolpsaw src=Fsaw

#filter Fsaw2       shape=allpass src=somesaw1 gain=.8 ndelay=3
lfo    stutter2    shape=squ freq=8 phase=.125
form   stuttersaw1 op=mix src=stutter2*somesaw1
filter Fsaw2       shape=comb src=stuttersaw1 iir_gain=.5*.5*.5 iir_n=3 fir_gain="pow(.9,5.)" fir_n=5
main   combsaw     src=Fsaw2

form   stuttersaw12  op=pitchshift src=stuttersaw1 steps=12
env    short         shape=expdecay exponent=8
form   stuttersaw12e mix src=short*stuttersaw12
filter Fsaw3         shape=reverb src=stuttersaw12e iir_gain=0.1 iir_delay1=0.00297 iir_delay2=0.00371 iir_delay3=0.00411 iir_delay4=0.00437 ap_gain=0.3 ap_delay1=0.00017 ap_delay2=0.0005
main   revsaw        src=Fsaw3 release=1.3 relpower=.005

# not implemented for now (karplus-strong-guitar)
#osc ksguitar guitar f
#main KStrong ksguitar

main justsaw src=somesaw1

lfo    sweep  shape=sin freq=.25 scale=1500 shift=2000 mode=global
filter BPsaw1 shape=bandpass src=somesaw1 center=sweep bandwidth=10 N=100
main   BPsaw  src=BPsaw1

env    stringenv    attack=0.2 decay=0.3 sustain=0.8 release=0.2
lfo    stringvib    shape=sin freq=5.
form   fvib         mix src=f+0.3*stringvib*stringenv
osc    saw2         shape=saw freq=fvib
form   saw2D        op=detune src=saw2 amount=0.01, 0.011, -0.02
env    stringfilter attack=0.5 decay=0.5 sustain=0.4 release=0. mode=beat
filter Fstr         shape=resolp src=saw2D cutoff=300*stringfilter
main   stryngth1    src=stringenv*Fstr release=0.2

osc    A1osc3    shape=tri freq=.5*f
osc    A1osc2    shape=saw freq=2*f phase=.4*A1osc3
osc    A1osc1    shape=squ freq=.25*f phase=0.25 pw=0.2*A1osc2
form   A1osc1d   detune src=A1osc1 amount=0.004
env    shortenv  attack=0.0 hold=0.2 decay=0.2 sustain=0
form   A1oscmix  mix src=A1osc1d+0.8*A1osc2
form   A1oscmixW waveshape src=A1oscmix amount=A1osc2 a=0.1 b=.3 c=0.3 d=0.8 e=0.8
env    shortdec  attack=0.0001 hold=0.0001 decay=0.4 sustain=0
filter A1oscmixF shape=resolp src=A1oscmixW cutoff=800*shortdec res=.1
main   PercBass  src=shortenv*A1oscmixF*5.

env A14_env    attack=2 decay=0 sustain=.2 release=2 mode=beat
env A14_fenv   attack=2 decay=0 sustain=1 release=2 mode=beat scale=600 shift="40.*sqrt(f)"
osc A14_osc    shape=madd freq=f nmax=200 ninc=1 mix=1 cutoff=A14_fenv filterQ=30 res=0 resQ=0.1 detune=-.01
form A14_oscA  mix src=0.5*A14_env*A14_osc
form A14_oscAD overdrive src=A14_oscA gain=1.4
main A14_Kuh   src=A14_env*A14_oscAD release=2

env  A15_env   attack=3 decay=0 sustain=0.2 release=2 mode=beat
env  A15_fenv  attack=2 decay=0 sustain=1 release=2 scale=100 shift="20.*sqrt(f)"
osc  A15_osc1  shape=madd freq=f phase=0 nmax=200 ninc=1 mix=-1 cutoff=A15_fenv filterQ=50 res=0 detune="0.01-0.008*_sin(0.25*Bproc+.25)" pw=0
osc  A15_osc2  shape=madd freq=f phase=0 nmax=200 ninc=1 mix=1  cutoff=A15_fenv filterQ=30 res=0 detune=-.01 pw="0.1+0.06*_sin(0.25*_t)"
form A15_oscA  mix src=0.2*A15_osc1+0.3*A15_osc2
form A15_oscAD overdrive src=A15_oscA gain=1.4
main A15_Kuh   src=A15_env*A15_oscAD release=2

!

env A16_env adsr 1.5 2 .2 .8
osc A16_osc1 saw f A16_lfo1
osc A16_osc2 saw f .25
osc A16_osc3 saw f A16_lfo3
lfo A16_lfo3 sin .5 scale=.2 shift=0 mode=time
lfo A16_lfo1 sin 2 scale=.1 shift=.1 mode=time
main A16_Supsaw 0.5*A16_env*A16_osc1 A16_env*A16_osc2 A16_env*A16_osc3 release=.8

env A17_env adsr 1.5 2 0.2 0.8
env A17_fenv adsr 1.5 2.5 0.2 10 scale=100 shift=200
osc A17_osc madd f 0 200 1 -1 A17_fenv 20 0.3 3. 0.015 0
main A17_pad? A17_env*A17_osc release=.8

osc A10_1 tri 2*f
lfo A10_lfo1 sin 4 scale=.00001 shift=1
osc A10_2 tri 0.999*2*A10_lfo1*f
osc A10_3 saw 5.01*f scale=0.2
osc A10_4 saw 14.01*f scale=0.2
main A10_saws A10_1 A10_2 .2*A10_3 .2*A10_3

lfo A13_lfo sin 0.21 scale=.5 shift=.2
osc A13_osc2 sin 0.25*f
osc A13_osc sin 4*f A13_lfo*A13_osc2
main A13_whatev A13_osc

env M8_env adsrexp 0.75 0.5 0.1 0.8 mode=beat
env M8_fenv adsrexp 0.5 0.5 0.1 10 scale=4500 shift=500 mode=beat
osc M8_osc madd f 0 200 1 -1 M8_fenv 20 0 0 0.018 0
#form M8_oscD detune M8_osc 1 .3 
form M8_oscDQ quantize M8_osc 128
form M8_oscDL lofi M8_oscDQ 8
form M8_oscDLC chorus M8_oscDL 6 2e-3 1e-3 20
main M8yStrng M8_env*M8_oscDL release=0.8

form bitdrop mix 1024 -512*Bproc
osc M8bass_osc1 squ f 0 0
osc M8bass_osc2 squ .97*f .3 .3
form M8bass_osc mix M8bass_osc1 M8bass_osc2
form M8bass_oscQ quantize M8bass_osc bitdrop
main M8yBeast M8bass_oscQ

lfo A31_envlfo sin 8. mode=beat overdrive=8
osc A31_osc1 tri f
osc A31_osc2 sin .5*f
osc A31_osc3 saw 2.*f
osc A31_osc4 tri f A31_lfo4
osc A31_osc5 tri .999*f A31_lfo5
lfo A31_lfo4 tri 0.5 scale=2e-4 shift=.01
lfo A31_lfo5 tri 0.33 scale=1e-3 shift=.05
form A31_mix mix .35*A31_osc1 .3*A31_osc2 .05*A31_osc3 .35*A31_osc4 .5*A31_osc5
main M8yBuzz A31_envlfo*A31_mix

env A32dec expdecay exponent=15.
form A32_mix chorus A31_mix 2 2e-4 2e-2 .125 mode=beat
form A32_mixT pitchshift A32_mix 24
form A32_mixD delay A32_mixT 3 1. .0001 mode=beat
main M8yBuzz2 .5*A32dec*A32_mix A32dec*A32_mixD release=.5

lfo A24_envlfo fract 16 0 0 overdrive=2.5
osc A24_osc1 saw .99*f
osc A24_osc2 squ .5*f 0 0.2
osc A24_osc3 sin .48*f .25
form A24_mix mix 0.7*A24_envlfo*A24_osc1 0.7*A24_envlfo*A24_osc2 0.7*A24_envlfo*A24_osc3 -.35
main A24_ILike A24_mix

lfo A24_someenv fract -16 0 .5 scale=300 shift=200 overdrive=4
env A24_someenv2 adsr 0 0.2 0.2 0.5
form A24_dep mix 200. .3*f
filter A24_lp resolp A24_mix A24_dep .3
main M8_ILike2 A24_someenv*A24_someenv2*A24_lp release=.01

# madd: mix= (-1 für saw, 0 für tri, sq für 1, HÄ? für 2)
# macesaw(t, f, filterCO, filterQ, 0.010, 0.020, 0.015, 3.);
# osc A16_osc1 madd f 0 200 1 -1 filterCO filterQ filterRes filterResQ detune PW


########### DRUMS ###########

random f0 min=50 max=80 digits=1
random f1 min=100 max=150 digits=1
drum BDbody kick f0 f1 0.1 0.1 0.1 0.3 1.2 .05 .8 10 
maindrum BD1 BDbody

drum BDbody2 kick2 50 200 0.12 0.015 0.1 0.15 0.4 0.03 1. 5 10 0.8 1 1 1 .1 .1
maindrum BD2 3.*BDbody2

drum BDbody3 kick2 60 150 0.2 0.01 0.3 0.1 1.5 0.05 5. 5 10 0.8 1 1 1 .1 0
maindrum BD3 2.*BDbody3
# it sucks. should be similar to this one: -- maybe just copy it
# s = vel * 2.*clamp(smoothstep(0.,0.01,_t)*smoothstep(-0.1,0.2,0.3-_t)*.1*MACESQ(_t, (60. + 150.*smoothstep(-0.3,0.,-_t)), 0., 100, 1, 1.,1.,.1,16.,10.,0.,0.) + (.7 * (smoothstep(0.,0.01,_t) * smoothstep(-0.2, 0.2, 0.3 - _t)) * _sin(_t*(60. + 150.*smoothstep(-0.3,0.,-t))*.5)) + s_crzy(10.*(1.-exp(-1000.*_t))*exp(-30.*_t) * _sin((300.-300.*_t)*_t)) + s_atan(40.*(1.-exp(-1000.*_t))*exp(-80.*_t) * _sin((1200.-1000.*sin(1000.*_t*sin(30.*_t)))*_t)),-1.5,1.5);}

drum shaker fmnoise 0.03 0.1 0.1 0.9 0.9
maindrum SHK .2*shaker 

#drum sumnois fmnoise 0.0 0.01 1. 1. 1.
#filter lpnoise resolp sumnois 9000 .1
#maindrum LP_NOISE lpnoise release=.4

drum explosion bitexplosion 1 2 2 1.5 2 1 1 
maindrum EXPL explosion 

drum hut fmnoise 0 0.05 0 .3 2
lfo acclfo squ 4. 0 0 mode=beat,global shift=.6 scale=.25
maindrum HAT .4*acclfo*hut

drum snr snare 6000 800 350 0.01 0.01 0.25 0.3 0.1 .7 0.05 0.3 0.3 1.6
maindrum SNR snr

filter snrrev reverb snr 0.15 0.000297 0.000371 0.000411 0.000437 0.2 0.000017 0.00005
maindrum RVRBSNER snrrev release=1

#maindrum empty 0
